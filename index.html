<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>aredherring.tech</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Personal blog of Dan, a software engineer, and his personal exploits as he stumbles through the games industry">
<meta property="og:type" content="website">
<meta property="og:title" content="aredherring.tech">
<meta property="og:url" content="http://aredherring.tech/index.html">
<meta property="og:site_name" content="aredherring.tech">
<meta property="og:description" content="Personal blog of Dan, a software engineer, and his personal exploits as he stumbles through the games industry">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Dan">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="aredherring.tech" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">aredherring.tech</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://aredherring.tech"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Pay-Transparency" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/05/Pay-Transparency/" class="article-date">
  <time class="dt-published" datetime="2021-12-05T10:34:08.000Z" itemprop="datePublished">2021-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/05/Pay-Transparency/">Pay Transparency 2021</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This post contains all of my salaries since I began my up to date. Salaries with an asterisk next to them are estimates - the true figure has been lost to time. Bonuses are not included for the same reason; I don’t remember the percentages of the bonuses I recieved.</p>
<p>I have no degree. I have one certification, the SANS GWAPT, which I acquired in 2017 after working at Riot. I am a white male and, at time of my first job, was 18.</p>
<p>Rent cost in the United Kingdom includes council tax.</p>
<table>
<thead>
<tr>
<th>Salary</th>
<th>Year</th>
<th>Title</th>
<th>Employer</th>
<th>Location</th>
<th>Rent (pcm)</th>
</tr>
</thead>
<tbody><tr>
<td>£16k</td>
<td>2013</td>
<td>Junior GIS Application Developer</td>
<td>Pragmatic Systems</td>
<td>Newport, Wales</td>
<td>£400</td>
</tr>
<tr>
<td>£18k</td>
<td>2013</td>
<td>Systems Analyst and Developer</td>
<td>RUMM</td>
<td>Ystrad Mynach, Wales</td>
<td>approx £560</td>
</tr>
<tr>
<td>£21k</td>
<td>2015</td>
<td>Internal Applications Developer</td>
<td>Creditsafe</td>
<td>Cardiff, Wales</td>
<td>£800</td>
</tr>
<tr>
<td>£24k</td>
<td>2016</td>
<td>Internal Applications Developer</td>
<td>Creditsafe</td>
<td>Cardiff, Wales</td>
<td>£800</td>
</tr>
<tr>
<td>€50k</td>
<td>2016</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1500</td>
</tr>
<tr>
<td>€55k*</td>
<td>2017</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€62k*</td>
<td>2019</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€70k*</td>
<td>2020</td>
<td>Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€82k</td>
<td>2020</td>
<td>Senior Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€90k</td>
<td>2021</td>
<td>Senior Security Engineer (current)</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€2000</td>
</tr>
<tr>
<td>$164k</td>
<td>2022</td>
<td>Senior Security Engineer</td>
<td>Riot Games</td>
<td>Los Angeles, California</td>
<td>est $3500</td>
</tr>
</tbody></table>
<p>Here’s the same information but formatted with monthly post-tax disposable income (ie income minus rent and tax-deductible expenses, like healthcare). In Dublin, I have been paying 5% salary to pension and around 120 per month in dental, vision and healthcare. All of these are not included in ‘disposable income’, as they are pre-tax.</p>
<p>It is difficult to find tax calculators for previous years for Ireland, so all figures here are rated in tax as if it was 2021. This generally means the figures will be slightly higher than they would have been at the time.</p>
<table>
<thead>
<tr>
<th>Disposable Income (pcm)</th>
<th>Year</th>
<th>Title</th>
<th>Employer</th>
<th>Location</th>
<th>Rent (pcm)</th>
</tr>
</thead>
<tbody><tr>
<td>£742</td>
<td>2013</td>
<td>Junior GIS Application Developer</td>
<td>Pragmatic Systems</td>
<td>Newport, Wales</td>
<td>£400</td>
</tr>
<tr>
<td>£695</td>
<td>2013</td>
<td>Systems Analyst and Developer</td>
<td>RUMM</td>
<td>Ystrad Mynach, Wales</td>
<td>approx £560</td>
</tr>
<tr>
<td>£625</td>
<td>2015</td>
<td>Internal Applications Developer</td>
<td>Creditsafe</td>
<td>Cardiff, Wales</td>
<td>£800</td>
</tr>
<tr>
<td>£795</td>
<td>2016</td>
<td>Internal Applications Developer</td>
<td>Creditsafe</td>
<td>Cardiff, Wales</td>
<td>£800</td>
</tr>
<tr>
<td>€1439</td>
<td>2016</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1500</td>
</tr>
<tr>
<td>€1541*</td>
<td>2017</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€1824*</td>
<td>2019</td>
<td>Associate Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€2148*</td>
<td>2020</td>
<td>Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€2598</td>
<td>2020</td>
<td>Senior Security Engineer</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€1600</td>
</tr>
<tr>
<td>€2498</td>
<td>2021</td>
<td>Senior Security Engineer (current)</td>
<td>Riot Games</td>
<td>Dublin, Ireland</td>
<td>€2000</td>
</tr>
<tr>
<td>$5723</td>
<td>2022</td>
<td>Senior Security Engineer</td>
<td>Riot Games</td>
<td>Los Angeles, California</td>
<td>est $3500</td>
</tr>
</tbody></table>
<p>Note that the LA entry does not include healthcare since I do not know how much that will cost yet.</p>
<h2 id="Bonuses-Equity-etc"><a href="#Bonuses-Equity-etc" class="headerlink" title="Bonuses, Equity etc"></a>Bonuses, Equity etc</h2><p>Riot has a bonus system that rewards you with an annual bonus, as well as a longer term bonus. This effectively means you have two bonuses, your annual bonus and your long term incentive bonus. Each bonus is the product of a percentage of your own salary and a multiplier, based off of company and personal performance for each year. However, this is a new system, and I don’t remember all the numbers. Because it’s based off of a percentage of your base salary, having a higher salary means you get more in bonus by default.</p>
<p>For my current title - Senior Security Engineer, as of 2021 - The base amount of my bonus, both annual and long-term, is 15%.</p>
<p>Because the amount is based on a percentage of your base salary <strong>and</strong> a modifier (which has always been above 1.5 for me, but does not necessarily have to be), it’s difficult to estimate what total compensation is. If we assume that the modifier <strong>is</strong> 1.5 (it can be higher, and can be lower), then my total comp is:</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Amount</th>
</tr>
</thead>
<tbody><tr>
<td>Base Salary</td>
<td>€90,000</td>
</tr>
<tr>
<td>Annual Bonus</td>
<td>€20,250</td>
</tr>
<tr>
<td>LTI Bonus†</td>
<td>€20,250</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td>€130,500</td>
</tr>
<tr>
<td><strong>Total (post-tax)</strong></td>
<td>€72,234</td>
</tr>
</tbody></table>
<h2 id="California"><a href="#California" class="headerlink" title="California"></a>California</h2><p>I am aware of my pay in California as I’m currently in the process of applying for an L1-b visa to work in Los Angeles. The amount cited here is the amount on the immigration petition. The annual and LTI bonus percentages will likely stay the same, at 15%. Updated pay table as above for that:</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Amount</th>
</tr>
</thead>
<tbody><tr>
<td>Base Salary</td>
<td>$164,000</td>
</tr>
<tr>
<td>Annual Bonus</td>
<td>$36,900</td>
</tr>
<tr>
<td>LTI Bonus†</td>
<td>$36,900</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td>$237,800</td>
</tr>
<tr>
<td><strong>Total (post-tax)</strong></td>
<td>$152,985</td>
</tr>
</tbody></table>
<p>† The LTI bonus is received 3 years from the calendar year it is issued. For example, if I receive a multiplier of 1.5 for 2021, I will receive the bonus for that year in 2024.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://aredherring.tech/2021/12/05/Pay-Transparency/" data-id="ckx2zss510001i4onccx98xhu" data-title="Pay Transparency 2021" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Twitch-got-breached-Here-s-what-you-need-to-know" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/06/Twitch-got-breached-Here-s-what-you-need-to-know/" class="article-date">
  <time class="dt-published" datetime="2021-10-06T18:00:00.000Z" itemprop="datePublished">2021-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/06/Twitch-got-breached-Here-s-what-you-need-to-know/">Twitch got breached.</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>TL:DR</strong>: Change your password and enable 2FA. Passwords have not been released to the public (yet?), but they are stored in a format that makes them difficult to guess.</p>
<p>There is no reason to expect that users will have, or will be, exposed to viruses by the original leakers, but it is possible the leaked code may cause vulnerabilities to be found and exploited. Be vigilant.</p>
<p>For the love of God, please don’t use this as an excuse to harass individuals working at Twitch. Compromises can happen to anyone, especially if perpetrated by ideologically motivated individuals with a lot of knowledge. Twitch definitely has improvements to be done with regards to moderation/preventing hate raids, but incidents like this are always super stressful particularly for those trying to put out the fire.</p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Keep in mind the following before continuing on:</p>
<ul>
<li>This is a developing situation, with Twitch themselves unaware of the scope of the impact. Comments in this post are informed guesses based on what is present in the info dump from the breach.</li>
<li>I am not affiliated with Twitch.</li>
<li>This is a post by Dan the individual, not Dan the information security employee of &lt;gaming company&gt;. Do not take this as a security advisory from my employer.</li>
</ul>
<p>I woke up this morning to the information that Twitch had been breached. Not just one database on Twitch, but all of it. In this article I’m going to focus on what <strong>you as a Twitch user or streamer need to know</strong>. There will be some technical detail later on. Here’s the executive summary:</p>
<ul>
<li>The leaked content was titled “twitch leak part one”. The dump in total is 130Gb.</li>
<li>The leak contains what appears to be most of the code that makes Twitch work, with a <strong>significant</strong> amount of intellectual property.</li>
<li>No usernames, passwords or phone numbers were in this leak, but I’ve heard rumors floating around that there is a part two, which will contain some more user information.</li>
<li>Included in the leak were revenue sheets of streamers with payouts from Twitch sources to those streamers from 2019, 2020 and 2021.</li>
</ul>
<p>The leak of the code itself is not particularly damaging if you’re a streamer. If the code were the sole content of the dump, then I would say there isn’t much to worry. However, the fact that there are revenue sheets, which almost certainly were not stored with the code that was leaked, and the fact that there are rumors of passwords being breached as well, makes it a bit more concerning.</p>
<h2 id="Malware-Viruses"><a href="#Malware-Viruses" class="headerlink" title="Malware (Viruses)"></a>Malware (Viruses)</h2><p>There’s no inclination that the individuals who breached Twitch and released this information were able to, or are able to, expose users to malware. The dump contains a lot of privileged information and intellectual property, but having access to confidential documents and being able to distribute code to Twitch users are two different things.</p>
<h2 id="Emails-and-passwords"><a href="#Emails-and-passwords" class="headerlink" title="Emails and passwords"></a>Emails and passwords</h2><p>The dump includes a service called Passport, which is Twitch’s primary authentication service from my reckoning. This stores usernames, passwords, phone numbers, dates of birth and email addresses among a few other things.</p>
<p>Any account that has been logged in to since March 22nd, 2015, has their password protected using bcrypt. This is a secure way of protecting passwords that is difficult to break. <strong>You should still change your password for Twitch</strong>. No protection is perfect, and bcrypt can be broken — it’ll just take a lot of attempts to do so. If you have re-used that password anywhere else, you should go and change those too.</p>
<p>Because e-mails are stored with passwords, if passwords are leaked, it’s likely email addresses will too. The individuals who breached Twitch have indicated that their reasons are ideological, and so it’s unlikely they will leak information that will directly harm users, but I’m not an oracle and, if you’re a big streamer, you probably don’t want to take the chance that it won’t be released.</p>
<h2 id="Phone-numbers-and-multi-factor-authentication-MFA"><a href="#Phone-numbers-and-multi-factor-authentication-MFA" class="headerlink" title="Phone numbers and multi-factor authentication (MFA)"></a>Phone numbers and multi-factor authentication (MFA)</h2><p>Phone numbers are stored by Twitch if you have enabled multi-factor authentication with Twitch in any form, even if you use the Authy app or something similar. This is because Twitch requires your phone number to serve as a back-up in case you lose the MFA application.</p>
<p>Unfortunately, phone numbers are stored with your username, password and email. Any dump that includes passwords and usernames will have had access to phone numbers. It is possible, should a credential dump be released, that the phone numbers of associated users may be released too.</p>
<p>Despite Twitch requiring your phone number to enable MFA, now would be a really good time to enable MFA on Twitch, as well as any other website that offers it. MFA is a really good last line of defense if someone does guess your password. If you are going to enable MFA, avoid SMS MFA and use app-based MFA if you have a smart phone.</p>
<h2 id="Payment-Information"><a href="#Payment-Information" class="headerlink" title="Payment Information"></a>Payment Information</h2><p>No payment information for users (i.e PayPal account information, tax identification numbers, social security etc) are stored with emails and passwords — it’s all in a separate database. That does not mean that it won’t get leaked, but if the attackers only had access to the authentication database, they might not have access to whichever one stores payment information.</p>
<h2 id="Revenue-Sheet"><a href="#Revenue-Sheet" class="headerlink" title="Revenue Sheet"></a>Revenue Sheet</h2><p>Of more interest is the revenue sheet. This was almost certainly not stored with the rest of the code that was leaked. The revenue sheet appears to be a the dump of a database, although during the time I was looking at the code I was not able to ascertain the code that “backed” that database. This would seem to imply that the individuals who leaked the database had access to more than just whatever code was available, and knew where to look to retrieve that information.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Most of the impact of the data leaked today is the loss of confidential intellectual property for Twitch, as well as the loss of private information for some Twitch streamers.</p>
<p>The individuals who published the leak have indicated that their reasons are ideological, and that they wish to “foster more disruption and competition in the online video streaming space”. It’s unclear whether that ideology extends to directly harming the privacy of users by releasing the user information.</p>
<p>Until and unless the attackers release the information they claim to have, the main advice I would have to any streamers right now would be to change their password — especially if they have used it in multiple places — and to enable multi-factor authentication.</p>
<p>Other companies should take this as a cautionary tale as to why they should not require phone numbers for two-factor authentication, and limit any personal information collected to the bare minimum, as any and all personal information collected may be released and harm users.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://aredherring.tech/2021/10/06/Twitch-got-breached-Here-s-what-you-need-to-know/" data-id="ckx2zss550003i4on9oyreg98" data-title="Twitch got breached." class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/incidents/" rel="tag">incidents</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/psa/" rel="tag">psa</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/" rel="tag">security</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Optimistic-UI-how-to-make-React-reducers-be-less-suck" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/28/Optimistic-UI-how-to-make-React-reducers-be-less-suck/" class="article-date">
  <time class="dt-published" datetime="2021-07-28T18:00:00.000Z" itemprop="datePublished">2021-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/28/Optimistic-UI-how-to-make-React-reducers-be-less-suck/">Optimistic UI: how to make React reducers be less suck</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Verbosity is not necessarily a bad thing, but sometimes it can feel annoying to write the same boilerplate over and over again. The following is a common pattern in React (or Redux) reducers, and is very verbose:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [&#123;count, isActive, error&#125;, dispatch] = useReducer(</span><br><span class="line">  <span class="function">(<span class="params">state: StateType, action: ActionType</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">     <span class="keyword">case</span> <span class="string">&quot;LOADING&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        <span class="attr">isActive</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;SET_SUCCESS&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        <span class="attr">count</span>: action.payload,</span><br><span class="line">        <span class="attr">isActive</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">error</span>: <span class="literal">null</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;SET_FAILURE&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          <span class="attr">isActive</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">error</span>: action.payload,</span><br><span class="line">        &#125;;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  initialState</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> set = <span class="function">(<span class="params">amount: number</span>) =&gt;</span> &#123;</span><br><span class="line">  dispatch(&#123; <span class="attr">type</span>: <span class="string">&quot;LOADING&quot;</span> &#125;);</span><br><span class="line">  updateCounterOnServer(amount)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      dispatch(&#123; <span class="attr">type</span>: <span class="string">&quot;SET_SUCCESS&quot;</span>, <span class="attr">payload</span>: amount &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      dispatch(&#123; <span class="attr">type</span>: <span class="string">&quot;SEt_FAILURE&quot;</span>, <span class="attr">payload</span>: error &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>It does the job, but aside from being verbose, it also has the problem that the user has to wait for a full round-trip to the server to confirm the transaction and also has you explicitly managing loading states. This is fine for mission-critical updates — such as when you’re submitting a destructive change.</p>
<p>Sometimes, though, you have either lower-sensitivity updates where you don’t care if the task doesn’t succeed or you have some other way of notifying the user and making it clear to them something is pending — such as how Discord displays pending messages:</p>
<p><img src="/images/discord-badge.png" alt="Displays a message being sent by Dan in Discord that is still in the pending state. Messages in the pending state are visibly distinguished from messages in the sent state by having a slightly darker colour to them"></p>
<p>If that’s the case, the following pattern might be more appropriate:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; data, pending, error &#125; = useReducer(<span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (‘payload’ <span class="keyword">in</span> action) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">data</span>: action.payload, <span class="attr">pending</span>: action.pending &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (‘error’ <span class="keyword">in</span> action) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; …state, error &#125;</span><br><span class="line">  &#125;  <span class="keyword">return</span> state</span><br><span class="line">&#125;, initialState);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">async</span> (amount) =&gt; &#123;</span><br><span class="line">  dispatch(&#123; <span class="attr">payload</span>: amount, <span class="attr">pending</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    dispatch(&#123; <span class="attr">payload</span>: <span class="keyword">await</span> updateCounterOnServer(amount), <span class="attr">pending</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    dispatch(&#123; <span class="attr">error</span>: e &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note the changes:</p>
<ul>
<li>We don’t use a ‘type’ field but instead alter reducer behavior based on fields being present — The reason to use a type field in Redux is because every reducer in Redux receives every action, but in React reducers they’re narrowly scoped to a single component, usually</li>
<li>We immediately update the content with the potential value and mark it as pending, which can be displayed to the user.</li>
<li>It’s much more concise</li>
</ul>
<p>This provides snappier feedback to a user and also plays nicer with React’s transition API.</p>
<p>The key principle is that we assume the asynchronous operation is going to succeed and let the user have some indication of what it might result in while still letting them use the application. 9 times out of 10, our remote API server is going to work, so why are we always writing our state logic as if they will fail?</p>
<p>You <strong>should</strong> still handle failures in the UI, of course, but unless the pending task is a blocker to the user, there are nicer ways to structure your code than having boolean isLoading flags everywhere and waiting until the operation resolves before showing the user something more interesting than a spinner.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://aredherring.tech/2021/07/28/Optimistic-UI-how-to-make-React-reducers-be-less-suck/" data-id="ckx2zss4w0000i4onghxv8nac" data-title="Optimistic UI: how to make React reducers be less suck" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/" rel="tag">react</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-What-s-a-Leak-anyway" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/05/What-s-a-Leak-anyway/" class="article-date">
  <time class="dt-published" datetime="2021-06-05T18:00:00.000Z" itemprop="datePublished">2021-06-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/05/What-s-a-Leak-anyway/">What&#39;s a Leak anyway?</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>I posted <a target="_blank" rel="noopener" href="https://twitter.com/riotdanhonks/status/1411717226441412611">this tweet</a> the other day and it got a lot of attention, primarily because it was retweeted by a few high-profile individuals within the League and League-adjacent Twittersphere. There was a bit of confusion about what a leak is — and what the difference between a leak and a teaser is. Let me explain in this post.</p>
<p>TL:DR at the bottom.</p>
<p>Disclaimer: I <strong>do not</strong> work on leak investigations professionally. I work as an engineer in our security team, so I have been present when leak investigations have taken place and have sometimes seen post-mortems of leaks. This will be a good primer, but you’d really want to consult someone more experienced for a complete view.</p>
<p>I also want to be clear that this is going to focus <strong>solely on leaks regarding unreleased content</strong>. There are a lot of parallels between that and whistle blowing, but whistle blowing is a fundamentally different thing and I am not about to advise anyone on how to address whistle blowing nor do I think that anyone should be trying to prevent it.</p>
<h2 id="Who-cares-about-leaks-Leaks-are-fun-for-players"><a href="#Who-cares-about-leaks-Leaks-are-fun-for-players" class="headerlink" title="Who cares about leaks? Leaks are fun for players."></a>Who cares about leaks? Leaks are fun for players.</h2><p>RiotJennisaur explained why leaks are bad pretty well:</p>
<blockquote>
<p>This. Leaks are devastating to us because it robs our opportunity to present new products to players in a curated way.</p>
</blockquote>
<p>(Source: <a target="_blank" rel="noopener" href="https://twitter.com/RiotJennisaur/status/1411776829199851521">https://twitter.com/RiotJennisaur/status/1411776829199851521</a>)</p>
<p>A leak prevents a game developer from showing players the to-be-released content in the light they want to see it. Perhaps the content isn’t finished or is missing valuable context. There’s also usually a lot of work that goes into a teaser — it’s not usually a case of showing a skin, but there may be cinematics, artwork, promotional material, events, and so on — and something being leaked takes the surprise away from players.</p>
<p>It also makes developers feel very… deflated.. when something they’ve worked on and intended as a surprise is released in all of its glory before it’s even finished.</p>
<p>I’ve never met someone who worked at a games company who was happy or even ambivalent about a piece of content being leaked too early. It’s always a disappointing feeling because not only can you not show the content in the intended light, you also feel the air of betrayed trust — that someone who works at the company with you disclosed content that you worked on before it was ready to be shown.</p>
<h2 id="Leaks-are-not-intentional-marketing-tools"><a href="#Leaks-are-not-intentional-marketing-tools" class="headerlink" title="Leaks are not intentional marketing tools"></a>Leaks are not intentional marketing tools</h2><p>There’s a few dictionary definitions of a leak — I’m not going to post those here. You could just use a dictionary. Here’s my criteria for what makes something a leak:</p>
<ul>
<li>Information is disclosed without the consent of the owner of the information</li>
<li>The disclosure can be accidental <strong>or</strong></li>
<li>The disclosure is intentional by either one or many actors with the intent of furthering their own interests at the expense of the owner of the information</li>
</ul>
<p>In plain English:</p>
<h3 id="Information-is-disclosed-without-the-consent-of-the-owner-of-the-information"><a href="#Information-is-disclosed-without-the-consent-of-the-owner-of-the-information" class="headerlink" title="Information is disclosed without the consent of the owner of the information"></a>Information is disclosed without the consent of the owner of the information</h3><p>Let’s say that Riot comes up with a new look for an existing champion. There’s an implicit understanding at Riot that this new look is private information and should not be disclosed to anyone outside of Riot — and that being able to see the new look before players is a perk of the job.</p>
<p>Suppose that that new appearance gets disclosed <strong>without the knowledge</strong> or prior authorization of the skins or marketing teams. That would be a leak.</p>
<h3 id="The-disclosure-can-be-accidental"><a href="#The-disclosure-can-be-accidental" class="headerlink" title="The disclosure can be accidental"></a>The disclosure can be accidental</h3><p>Sometimes, disclosures can happen as a result of security vulnerabilities — This is where my team would come in. In particular, it’s not uncommon for campaign pieces (i.e, very fancy blog posts) to be placed in a draft section on a public facing website a few hours before they are released, but marked as hidden, so that theoretically they don’t show up to players.</p>
<p>If, however, there is a bug and hidden posts still show up in certain API calls, astute individuals might be able to data-mine hidden content from that website and post it <strong>before</strong> the intended release date and — tadah — You have a leak.</p>
<h3 id="Or-the-disclosure-is-intentional-by-either-one-or-many-actors-with-the-intent-of-furthering-their-own-interests-at-the-expense-of-the-owner-of-the-information"><a href="#Or-the-disclosure-is-intentional-by-either-one-or-many-actors-with-the-intent-of-furthering-their-own-interests-at-the-expense-of-the-owner-of-the-information" class="headerlink" title="Or the disclosure is intentional by either one or many actors with the intent of furthering their own interests at the expense of the owner of the information"></a>Or the disclosure is intentional by either one or many actors with the intent of furthering their own interests at the expense of the owner of the information</h3><p>Someone leaks something because they were only thinking about their own interests and either did not consider or actively disregarded those of the owner of the information. This doesn’t necessary need to be malicious.</p>
<p>There have been times where I’ve seen unreleased content get shared, in confidence, to an employee’s best friend, who would absolutely never tell the world ever and.. well, you can see where this is going. The friend shares it with a friend who shares with a friend and suddenly the whole world knows.</p>
<p>There <strong>are</strong> also incidents where someone intentionally disseminates information with the full understanding that this might harm the company’s interests in an effort to promote their own — For example, a streamer who comes across information that any reasonable person would understand to be confidential and/or a leak, but makes a big piece out of it or uses it to advertise their own stream or YouTube channel.</p>
<p>This is usually not the primary source of a leak (imagine betting your job on the success of a YouTube channel), but usually someone who discovers leaked material through a friend of a friend or through a security vulnerability or some other means and takes advantage of the disclosure for their own gain.</p>
<h2 id="What’s-the-difference-between-a-leak-and-a-teaser"><a href="#What’s-the-difference-between-a-leak-and-a-teaser" class="headerlink" title="What’s the difference between a leak and a teaser?"></a>What’s the difference between a leak and a teaser?</h2><p>Having enumerated what a leak is — accidental disclosure, against the interests of the company, at the furtherance of someones own interests — you could say that a teaser is the exact opposite.</p>
<p>In my mind, a teaser:</p>
<ul>
<li>Is an intentional, thought-out release of information designed to drive hype</li>
<li>Usually involves multiple teams and is, essentially, a marketing campaign</li>
<li>Almost always comes in the form of an easter egg or short piece of content from a source directly associated with the company</li>
</ul>
<p>For example, a teaser might be a picture of Sylas’ chains in a dev blog article, or the big marketing campaign around Jhin when he was first released. Perhaps it could be an intentional piece of art left up in an official video released through the social media accounts of a company as an easter egg.</p>
<p>The core thing that connects all of these is that they are usually come from content that is <strong>clearly identifiable</strong> as being an intentional release of information from a source that is directly associated with the company. Any company that is going to be releasing content — especially paid for content — is going to want to make sure that potential customers see that content in a curated way and in the best possible light.</p>
<p>If you’re seeing grainy screenshots from some corner of the internet sourced from your Dad who works at Nintendo, then it’s probably a leak, and not a teaser. Teasers are very deliberate.</p>
<h2 id="How-do-you-stop-people-leaking-What-does-it-say-that-there-are-so-many-leaks"><a href="#How-do-you-stop-people-leaking-What-does-it-say-that-there-are-so-many-leaks" class="headerlink" title="How do you stop people leaking? What does it say that there are so many leaks?"></a>How do you stop people leaking? What does it say that there are so many leaks?</h2><p>This is a long blog post already, but this one came up a lot. Going to quickly summarize my views on this one, since it’s getting late here.</p>
<p><strong>You can’t stop leaks through enforcement means</strong>. Leaking happens for many reasons, including, but not limited to:</p>
<ul>
<li>Dissatisfaction with the company/coworkers</li>
<li>A desire to gain notoriety</li>
<li>A desire to share their own excitement about the content with a supposedly trusted friend or set of friends</li>
</ul>
<p>In general, enforcement to prevent leaks is going to be more like a lock on your door at night. It might stop crimes of opportunity — such as someone stealing something from you while you step out of the house because you locked the door — but it’s not going stop someone who is truly motivated to leak something for their own reasons. No amount of threats of punitive action is going to scare someone who believes they will never get caught in the first place or simply doesn’t fear the consequences.</p>
<p>Preventing leaks, then, mostly comes down to two things:</p>
<ul>
<li>Cultivating a culture of collective ownership (Is that buzz-wordy enough for you, Twitter?)</li>
<li>Restricting access to sensitive information.</li>
</ul>
<p>Cultivating a culture of collective ownership is, in my experience, the best case scenario — a situation in which everyone is given access to sensitive material and it is expressed to them that we are all responsible for making sure that something is delivered to players without being leaked. This enables employees to feel trusted with a secret and also gives them the motivation to want to keep the secret safe — because they feel like they have a part to play in it.</p>
<p>I’ve also heard of some instances of companies offering cash bonuses to employees if something releases without being leaked, not sure how effective those are, though.</p>
<p>Unfortunately, as a company grows, it becomes harder and harder to rely on trust — it’s much easier for a small start-up to keep everything under-wraps than it is a 5000 strong company, and that’s why you see large companies leaking like a sieve despite having the budget for a strong security team.</p>
<p>Restricting access to sensitive information feels pretty bad — not being able to share cool stuff with your colleagues sucks. This is what companies tend to reach for when it’s not really possible to rely on trust all the time. This doesn’t necessarily mean the company is hiring the wrong people, which is a sentiment I saw frequently too — People are complicated and have their own agenda, and every person is one bad day away from causing a lot of damage to a corporation. You can absolutely hire people and trust them to perform a certain set of responsibilities and not trust them with all of the confidential information at the company.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>I hope this helps explain the difference between leaks and teasers. In short:</p>
<ul>
<li>Teasers are complex marketing campaigns and the unifying thread is that they are usually identifiable as an intended release of information from a company and are usually promoted on the company’s main social media/press release channels.</li>
<li>Leaks are unintended releases of information showing a product or piece of information in either an unfinished or damaging light; they usually come from unclear sources (to the viewer, anyway) and are not usually identifiable as being an intentional publication.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://aredherring.tech/2021/06/05/What-s-a-Leak-anyway/" data-id="ckx2zss560004i4onafhvdqwj" data-title="What&#39;s a Leak anyway?" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/riot/" rel="tag">riot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/security/" rel="tag">security</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/incidents/" rel="tag">incidents</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/psa/" rel="tag">psa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/riot/" rel="tag">riot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/incidents/" style="font-size: 10px;">incidents</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/psa/" style="font-size: 10px;">psa</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/riot/" style="font-size: 10px;">riot</a> <a href="/tags/security/" style="font-size: 20px;">security</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/12/05/Pay-Transparency/">Pay Transparency 2021</a>
          </li>
        
          <li>
            <a href="/2021/10/06/Twitch-got-breached-Here-s-what-you-need-to-know/">Twitch got breached.</a>
          </li>
        
          <li>
            <a href="/2021/07/28/Optimistic-UI-how-to-make-React-reducers-be-less-suck/">Optimistic UI: how to make React reducers be less suck</a>
          </li>
        
          <li>
            <a href="/2021/06/05/What-s-a-Leak-anyway/">What&#39;s a Leak anyway?</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Dan<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>